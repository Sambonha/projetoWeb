<app-menu></app-menu>
<div style="min-height:100vh; background: linear-gradient(135deg, #8B0000, #000); padding:2rem; display:flex; flex-direction:column; align-items:center; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color:#fff;">

  <div style="width:100%; text-align:center; margin-bottom:2rem;">
    <h4 style="font-weight:700; font-size:1.8rem; background: linear-gradient(90deg,#8B0000,#000,#8B0000); background-clip:text; -webkit-background-clip:text; color:transparent;">
      Consulta de Tarefas
    </h4>
    <p>Listagem das tarefas da agenda</p>
    <hr style="border-top:1px solid #ccc;">
  </div>

  <style>
    table tr:hover {
      background-color: rgba(139, 0, 0, 0.08);
      transition: background-color 0.3s ease;
    }
    button:hover {
      transform: scale(1.05);
      transition: transform 0.2s ease, background-color 0.2s ease;
      filter: brightness(1.1);
    }
  </style>

  <table style="width:100%; max-width:900px; border-collapse:collapse; background: rgba(255,255,255,0.95); color:#000; border-radius:10px; overflow:hidden; box-shadow:0 5px 15px rgba(0,0,0,0.3);">
    <thead>
      <tr style="background-color: rgba(139,0,0,0.9); color:#fff;">
        <th style="padding:10px;">Nome da tarefa</th>
        <th>Data</th>
        <th>Prioridade</th>
        <th>Finalizado</th>
        <th>Categoria</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let t of tarefas()">
        <td style="padding:8px;">{{ t.nome | uppercase }}</td>
        <td>{{ t.data | date:'dd/MM/yyyy' }}</td>
        <td>{{ t.prioridade }}</td>
        <td>
          <span *ngIf="t.finalizado" style="background:#28a745; color:#fff; padding:0.2rem 0.5rem; border-radius:5px;">SIM</span>
          <span *ngIf="!t.finalizado" style="background:#ffc107; color:#000; padding:0.2rem 0.5rem; border-radius:5px;">NÃO</span>
        </td>
        <td>{{ t.categoria.nome }}</td>
        <td>
          <button (click)="editarTarefa(t.id)" style="background:#8B0000; color:#fff; border:none; padding:0.3rem 0.6rem; border-radius:5px; cursor:pointer; margin-right:0.3rem;">Editar</button>
          <button (click)="excluirTarefa(t.id)" style="background:#b71c1c; color:#fff; border:none; padding:0.3rem 0.6rem; border-radius:5px; cursor:pointer;">Excluir</button>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="6" style="font-weight:bold; background-color: rgba(139,0,0,0.1); padding:8px;">
          Quantidade de tarefas: {{ tarefas().length }}
        </td>
      </tr>
    </tfoot>
  </table>
</div>
